{% extends "html/base.html" %}
{% load static %}

{% block content %}
<button class="btn btn-primary m-3" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
    ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã
</button>
<!-- ã‚ªãƒ•ã‚­ãƒ£ãƒ³ãƒã‚¹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasExampleLabel">ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="é–‰ã˜ã‚‹"></button>
    </div>
    <div class="offcanvas-body">
        <ul class="list-unstyled">
            <li><a href="#" class="text-decoration-none">ğŸ­ ã‚¸ãƒ£ãƒ³ãƒ«</a></li>
                <li>
                    {% for genre in genres %}
                        <li>{{ genre.name }}</li>
                    {% endfor %}
                </li>
            <li><a href="#" class="text-decoration-none">ğŸ· ã‚¿ã‚°</a></li>
                <li>
                    {% for tag in tags %}
                        <li>{{ tag.name }}</li>
                    {% endfor %}
                </li>
            <li><a href="#" class="text-decoration-none">ğŸ“… å¹´ä»£</a></li>
                <li>
                    {% for season in seasons %}
                        <li>{{ season.year}} å¹´ {{season.get_season_display }}</li>
                    {% endfor %}
                </li>
            <li><a href="#" class="text-decoration-none">ğŸ¬ åˆ¶ä½œã‚¹ã‚¿ã‚¸ã‚ª</a></li>
                <li>
                    {% for studio in studios %}
                        <li>{{ studio.name }}</li>
                    {% endfor %}
                </li>
        </ul>
    </div>
</div>

<!-- ã‚½ãƒ¼ãƒˆãƒœã‚¿ãƒ³ -->
<div class="sort-options mb-3 d-flex justify-content-end">
    <label for="sort-select" class="form-label">ä¸¦ã³é †:</label>
    <select id="sort-select" class="form-select" onchange="applySort()">
        <option value="season-desc" {% if request.GET.sort == 'season-desc' %}{% endif %}>ã‚·ãƒ¼ã‚ºãƒ³ï¼ˆæ–°ã—ã„é †ï¼‰</option>
        <option value="season-asc" {% if request.GET.sort == 'season-asc' %}{% endif %}>ã‚·ãƒ¼ã‚ºãƒ³ï¼ˆå¤ã„é †ï¼‰</option>
        <option value="average_rating" {% if request.GET.sort == 'average_rating' %}selected{% endif %}>äººæ°—é †</option>
        <option value="watched_count-desc" {% if request.GET.sort == 'watched_count-desc' %}selected{% endif %}>ç™»éŒ²æ•°é †</option>
    </select>
</div>

<div class="anime-list">
    {% for anime in animes %}
        <div class="anime-item">
            <a href="{% url 'anime_tracker:anime_detail' anime.id %}">
                {% if anime.thumbnail %}
                    <img src="{{ anime.thumbnail.url }}" alt="{{ anime.title }}" width="150">
                {% else %}
                    <p>ç”»åƒãªã—</p>
                {% endif %}
                <p>{{ anime.title }}</p>
            </a>
        </div>
    {% endfor %}
</div>
{% endblock %}



